spring.application.name=weather_api

# Visual Crossing API configuration
weather.api.url=https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline

weather.api.key=${WEATHER_API_KEY:your_api_key_here}

# Redis configuration
spring.redis.host=${REDIS_HOST:localhost}
spring.redis.port=${REDIS_PORT:6379}
spring.redis.password=
spring.redis.timeout=2000
spring.cache.type=redis
spring.cache.redis.time-to-live=43200000
spring.cache.redis.cache-null-values=false

# Cache configuration
weather.cache.ttl=43200

# Rate limiting configuration
weather.ratelimit.capacity=10
weather.ratelimit.refill-tokens=1
weather.ratelimit.refill-time-unit=MINUTES

# Server Configuration
server.port=8080
server.compression.enabled=true
server.tomcat.max-threads=200
server.tomcat.max-connections=10000

# Bean Definition Handling
spring.main.allow-bean-definition-overriding=false

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,prometheus,metrics
management.endpoint.health.show-details=when-authorized
management.metrics.export.prometheus.enabled=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true

# Logging Configuration
logging.level.root=INFO
logging.level.com.thuandao=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.data.redis=WARN

# Error Handling
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false
